<div class="main-page">
  <nav class="navbar">
    <app-navigation-bar></app-navigation-bar>
  </nav>
  <div class="body">
    <div class="table">
      <div class="table-footer">
        <div class="table-footer-status-container">
          <label>
            <input
              class="table-footer-status-chb"
              type="checkbox"
              [disabled]="true"
            />
          </label>
        </div>
        <div class="table-footer-text-container">Текст</div>
        <div class="table-footer-delete-container"></div>
      </div>
      <div class="table-row" *ngFor="let task of todoList; index as i">
        <div class="table-row-status-container">
          <label>
            <input
              class="table-row-status-chb"
              type="checkbox"
              [checked]="task.isDone"
              (click)="changeIsDoneTask(i)"
            />
          </label>
        </div>
        <div
          class="table-row-text-container"
          (click)="displayChangeTaskContainer(i)"
        >
          {{ task.text }}
        </div>
        <div class="table-row-delete-container">
          <img
            class="table-row-delete-img"
            src="https://www.flaticon.com/svg/static/icons/svg/1828/1828843.svg"
            alt="Удалить"
            (click)="deleteTask(i)"
          />
        </div>
      </div>
    </div>
    <div class="add-task-btn-container">
      <button class="add-task-btn" (click)="displayAddTaskContainer()">
        + Добавить задачу
      </button>
    </div>

    <div class="add-task-container" [hidden]="!isDisplayAddTaskContainer">
      <div class="add-task-container" [formGroup]="addTaskGroup">
        <label>
          <input
            class="add-task-input"
            type="text"
            placeholder="Текст задачи"
            formControlName="inputText"
            (keyup.enter)="addTask()"
          />
        </label>
      </div>
      <div class="save-task-button-container">
        <button
          class="button-save"
          (click)="addTask()"
          [disabled]="!addTaskGroup.valid"
        >
          Добавить
        </button>
      </div>
    </div>
    <div [hidden]="!isDisplayChangeTaskContainer">
      <p class="text-change-task">~ Изменить задачу</p>
      <div class="add-task-container" [formGroup]="changeTaskGroup">
        <label>
          <input
            class="add-task-input"
            type="text"
            placeholder="Новый текст задачи"
            formControlName="inputText"
            (keyup.enter)="changeTextTask()"
          />
        </label>
      </div>
      <div class="save-task-button-container">
        <button class="button-save" (click)="changeTextTask()">Изменить</button>
      </div>
    </div>
  </div>
</div>
